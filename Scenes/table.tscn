[gd_scene load_steps=10 format=3 uid="uid://d162k1qtx4ry1"]

[ext_resource type="PackedScene" uid="uid://bfjybjinbi6ks" path="res://Scenes/deck.tscn" id="1_7rpwj"]
[ext_resource type="Script" path="res://Scripts/table.gd" id="1_y5mtw"]
[ext_resource type="PackedScene" uid="uid://dvt837shbq8tf" path="res://Scenes/regular_player.tscn" id="2_bkbv2"]
[ext_resource type="Script" path="res://Scripts/Signal dataholder/SignalDataholder.gd" id="2_llhaa"]
[ext_resource type="Script" path="res://Clock.gd" id="5_fkr3n"]
[ext_resource type="Script" path="res://Scripts/Time based functions/TimeControl.gd" id="6_hnvjf"]
[ext_resource type="PackedScene" uid="uid://c863hboj2issh" path="res://Scenes/dealer.tscn" id="7_iongo"]
[ext_resource type="FontFile" uid="uid://c72c1a465br4p" path="res://Assets/MotleyForcesRegular-w1rZ3.ttf" id="8_58jjn"]

[sub_resource type="GDScript" id="GDScript_bsyxx"]
resource_name = "announce_label"
script/source = "extends Label

func draw_announcement(_text : String, color : Color):
	text = _text
	modulate = color
	pass
"

[node name="Table" type="Node2D" node_paths=PackedStringArray("table_deck", "player", "dealer", "time_control", "buttons", "announce_label")]
script = ExtResource("1_y5mtw")
table_deck = NodePath("Deck")
player = NodePath("RegularPlayer")
dealer = NodePath("Dealer")
time_control = NodePath("TimeControl")
buttons = NodePath("CanvasLayer/Buttons")
announce_label = NodePath("CanvasLayer/Buttons/Label")

[node name="SignalDataHolder" type="Node" parent="."]
script = ExtResource("2_llhaa")

[node name="Deck" parent="." instance=ExtResource("1_7rpwj")]
position = Vector2(560, 457)

[node name="RegularPlayer" parent="." instance=ExtResource("2_bkbv2")]
position = Vector2(578, 472)

[node name="ColorRect" type="ColorRect" parent="."]
z_index = -1
offset_right = 1152.0
offset_bottom = 649.0
color = Color(0.362633, 0.581783, 0.339292, 1)

[node name="Clock" type="Timer" parent="."]
wait_time = 0.1
autostart = true
script = ExtResource("5_fkr3n")

[node name="TimeControl" type="Node" parent="."]
script = ExtResource("6_hnvjf")

[node name="Dealer" parent="." instance=ExtResource("7_iongo")]
position = Vector2(576, 160)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Buttons" type="VBoxContainer" parent="CanvasLayer"]
offset_left = 464.0
offset_top = 248.0
offset_right = 677.0
offset_bottom = 375.0
pivot_offset = Vector2(112, 64)

[node name="Label" type="Label" parent="CanvasLayer/Buttons"]
layout_mode = 2
theme_override_fonts/font = ExtResource("8_58jjn")
theme_override_font_sizes/font_size = 36
text = "Placeholder"
horizontal_alignment = 1
uppercase = true
script = SubResource("GDScript_bsyxx")

[node name="Start" type="Button" parent="CanvasLayer/Buttons"]
layout_mode = 2
theme_override_fonts/font = ExtResource("8_58jjn")
theme_override_font_sizes/font_size = 46
text = "PLAY"
icon_alignment = 1

[node name="Quit" type="Button" parent="CanvasLayer/Buttons"]
layout_mode = 2
theme_override_fonts/font = ExtResource("8_58jjn")
theme_override_font_sizes/font_size = 46
text = "QUIT"
icon_alignment = 1

[connection signal="timeout" from="Clock" to="Clock" method="_on_timeout"]
[connection signal="pressed" from="CanvasLayer/Buttons/Start" to="." method="_on_start_pressed"]
